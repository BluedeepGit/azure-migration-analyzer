[
  {
    "id": "MOVE-AAD-001",
    "resourceType": "microsoft.aad/domainservices",
    "scenario": "cross-subscription",
    "severity": "Blocker",
    "message": "Microsoft Entra Domain Services",
    "impact": "Questa risorsa non supporta lo spostamento tra sottoscrizioni o resource group.",
    "workaround": "Nessuna soluzione diretta. È necessario ricreare il servizio nella nuova destinazione.",
    "downtimeRisk": true,
    "refLink": "https://learn.microsoft.com/en-us/azure/azure-resource-manager/management/move-support-resources#microsoftaad"
  },
  {
    "id": "MOVE-AKS-001",
    "resourceType": "microsoft.containerservice/managedclusters",
    "scenario": "cross-subscription",
    "severity": "Warning",
    "message": "Azure Kubernetes Service (AKS)",
    "impact": "Il cluster può essere spostato, ma richiede attenzione alle risorse connesse (Load Balancers, Public IPs) nel resource group 'MC_'.",
    "workaround": "Non spostare mai il Resource Group 'MC_' gestito automaticamente. Spostare solo il cluster AKS; Azure gestirà il resto.",
    "downtimeRisk": false,
    "refLink": "https://learn.microsoft.com/en-us/azure/azure-resource-manager/management/move-support-resources#microsoftcontainerservice"
  },
  {
    "id": "MOVE-APP-001",
    "resourceType": "microsoft.web/serverfarms",
    "scenario": "cross-subscription",
    "severity": "Critical",
    "message": "App Service Plan & Web Apps",
    "impact": "Limitazione App Service: Tutte le Web App associate a un App Service Plan DEVONO essere nello stesso Resource Group del piano per poter essere spostate.",
    "workaround": "Spostare il Piano e tutte le sue Web App simultaneamente in un'unica operazione. Se sono sparsi, consolidarli prima del move.",
    "downtimeRisk": false,
    "refLink": "https://learn.microsoft.com/en-us/azure/app-service/manage-move-across-regions"
  },
  {
    "id": "MOVE-APP-002",
    "resourceType": "microsoft.web/certificates",
    "scenario": "cross-subscription",
    "severity": "Warning",
    "message": "App Service Certificates",
    "impact": "I certificati importati possono essere spostati, ma quelli acquistati tramite App Service hanno limitazioni.",
    "workaround": "Spostare il certificato insieme alla Web App e al Piano.",
    "downtimeRisk": false,
    "refLink": "https://learn.microsoft.com/en-us/azure/azure-resource-manager/management/move-support-resources#microsoftweb"
  },
  {
    "id": "MOVE-CLASSIC-001",
    "resourceType": "microsoft.classiccompute/virtualmachines",
    "scenario": "cross-subscription",
    "severity": "Blocker",
    "message": "Classic Virtual Machines (ASM)",
    "impact": "Le risorse classiche (non-ARM) non supportano lo spostamento.",
    "workaround": "Migrare le risorse da Classic a ARM (Azure Resource Manager) prima di tentare lo spostamento.",
    "downtimeRisk": true,
    "refLink": "https://learn.microsoft.com/en-us/azure/virtual-machines/migration-classic-v3"
  },
  {
    "id": "MOVE-NET-001",
    "resourceType": "microsoft.network/virtualnetworks",
    "scenario": "cross-subscription",
    "condition": { "field": "properties.virtualNetworkPeerings", "operator": "notEmpty" },
    "severity": "Blocker",
    "message": "VNET con Peering Attivi",
    "impact": "Una VNET con peering attivi verso altre reti non può essere spostata.",
    "workaround": "Eliminare tutti i VNET Peering. Eseguire lo spostamento. Ricreare i Peering nella nuova sottoscrizione.",
    "downtimeRisk": true,
    "refLink": "https://learn.microsoft.com/en-us/azure/virtual-network/virtual-network-manage-peering"
  },
  {
    "id": "MOVE-NET-002",
    "resourceType": "microsoft.network/publicipaddresses",
    "scenario": "cross-subscription",
    "condition": { "field": "sku.name", "operator": "eq", "value": "Standard" },
    "severity": "Warning",
    "message": "Standard Public IP",
    "impact": "Gli IP Standard associati a risorse (es. VM) richiedono che tutte le risorse associate vengano spostate insieme.",
    "workaround": "Selezionare VM, NIC, NSG e Public IP e spostarli in un'unica operazione di gruppo.",
    "downtimeRisk": false,
    "refLink": "https://learn.microsoft.com/en-us/azure/azure-resource-manager/management/move-support-resources#microsoftnetwork"
  },
  {
    "id": "MOVE-NET-003",
    "resourceType": "microsoft.network/expressroutecircuits",
    "scenario": "cross-subscription",
    "severity": "Critical",
    "message": "ExpressRoute Circuits",
    "impact": "Gli circuiti ExpressRoute non possono essere spostati tra sottoscrizioni se hanno link autorizzati attivi.",
    "workaround": "Rimuovere le autorizzazioni/link, spostare il circuito, e ricreare le connessioni.",
    "downtimeRisk": true,
    "refLink": "https://learn.microsoft.com/en-us/azure/azure-resource-manager/management/move-support-resources#microsoftnetwork"
  },
  {
    "id": "MOVE-NET-004",
    "resourceType": "microsoft.network/loadbalancers",
    "scenario": "cross-subscription",
    "condition": { "field": "sku.name", "operator": "eq", "value": "Standard" },
    "severity": "Warning",
    "message": "Standard Load Balancer",
    "impact": "Deve essere spostato insieme a tutte le risorse di backend (NIC, VM).",
    "workaround": "Includere tutte le risorse del pool di backend nell'operazione di move.",
    "downtimeRisk": false,
    "refLink": "https://learn.microsoft.com/en-us/azure/azure-resource-manager/management/move-support-resources#microsoftnetwork"
  },
  {
    "id": "MOVE-RSV-001",
    "resourceType": "microsoft.recoveryservices/vaults",
    "scenario": "cross-subscription",
    "severity": "Critical",
    "message": "Recovery Services Vault (Backup)",
    "impact": "Non è possibile spostare un vault se ci sono backup, restore o registrazioni in corso. Cross-Subscription supportato, Cross-RG supportato.",
    "workaround": "Assicurarsi che non ci siano job attivi. Per Cross-Subscription: Il vault target deve essere nella stessa regione.",
    "downtimeRisk": false,
    "refLink": "https://learn.microsoft.com/en-us/azure/backup/backup-azure-move-recovery-services-vault"
  },
  {
    "id": "MOVE-STG-001",
    "resourceType": "microsoft.storage/storageaccounts",
    "scenario": "cross-subscription",
    "severity": "Info",
    "message": "Storage Account",
    "impact": "Pienamente supportato. Le chiavi di accesso non cambiano.",
    "workaround": "Nessuna azione richiesta. Lo spostamento è trasparente.",
    "downtimeRisk": false,
    "refLink": "https://learn.microsoft.com/en-us/azure/azure-resource-manager/management/move-support-resources#microsoftstorage"
  },
  {
    "id": "MOVE-SQL-001",
    "resourceType": "microsoft.sql/servers",
    "scenario": "cross-subscription",
    "severity": "Info",
    "message": "Azure SQL Database",
    "impact": "Server e Database devono essere spostati insieme. Lo spostamento è un'operazione logica (nessun downtime dati).",
    "workaround": "Spostare il SQL Server logico (che trascina i DB).",
    "downtimeRisk": false,
    "refLink": "https://learn.microsoft.com/en-us/azure/azure-resource-manager/management/move-support-resources#microsoftsql"
  },
  {
    "id": "MOVE-MIGRATE-001",
    "resourceType": "microsoft.migrate/assessmentprojects",
    "scenario": "cross-subscription",
    "severity": "Blocker",
    "message": "Azure Migrate Project",
    "impact": "I progetti di Azure Migrate spesso non supportano lo spostamento una volta creati.",
    "workaround": "Ricreare il progetto nella nuova sottoscrizione.",
    "downtimeRisk": false,
    "refLink": "https://learn.microsoft.com/en-us/azure/azure-resource-manager/management/move-support-resources#microsoftmigrate"
  },
  {
    "id": "MOVE-LB-BASIC-001",
    "resourceType": "microsoft.network/loadbalancers",
    "scenario": "cross-subscription",
    "condition": { "field": "sku.name", "operator": "eq", "value": "Basic" },
    "severity": "Info",
    "message": "Basic Load Balancer",
    "impact": "Supportato senza particolari vincoli rispetto allo Standard.",
    "workaround": "Nessuna azione richiesta.",
    "downtimeRisk": false,
    "refLink": "https://learn.microsoft.com/en-us/azure/azure-resource-manager/management/move-support-resources#microsoftnetwork"
  },
  {
    "id": "MOVE-KUSTO-001",
    "resourceType": "microsoft.kusto/clusters",
    "scenario": "cross-subscription",
    "severity": "Warning",
    "message": "Azure Data Explorer (Kusto)",
    "impact": "Supportato, ma il cluster deve essere in stato 'Running' o 'Stopped'. Non può essere in stato 'Starting' o 'Stopping'.",
    "workaround": "Attendere che il cluster sia stabile prima di spostare.",
    "downtimeRisk": false,
    "refLink": "https://learn.microsoft.com/en-us/azure/azure-resource-manager/management/move-support-resources#microsoftkusto"
  },
  {
    "id": "MOVE-HDINSIGHT-001",
    "resourceType": "microsoft.hdinsight/clusters",
    "scenario": "cross-subscription",
    "severity": "Blocker",
    "message": "HDInsight Clusters",
    "impact": "I cluster HDInsight non supportano lo spostamento tra risorse o sottoscrizioni.",
    "workaround": "Esportare i dati (Metastore/Storage), eliminare il cluster, ricrearlo nella nuova destinazione.",
    "downtimeRisk": true,
    "refLink": "https://learn.microsoft.com/en-us/azure/azure-resource-manager/management/move-support-resources#microsofthdinsight"
  },
  {
    "id": "MOVE-MON-001",
    "resourceType": "microsoft.insights/metricalerts",
    "scenario": "cross-subscription",
    "severity": "Info",
    "message": "Azure Monitor Alerts",
    "impact": "Gli alert basati su metriche si spostano con la risorsa, ma gli ID risorsa nelle regole potrebbero dover essere aggiornati se non automatico.",
    "workaround": "Verificare le regole di alert dopo lo spostamento.",
    "downtimeRisk": false,
    "refLink": "https://learn.microsoft.com/en-us/azure/azure-resource-manager/management/move-support-resources#microsoftinsights"
  },
  {
    "id": "MOVE-LAB-001",
    "resourceType": "microsoft.devtestlab/labs",
    "scenario": "cross-subscription",
    "severity": "Blocker",
    "message": "Azure DevTest Labs",
    "impact": "Il move non è supportato per i Lab.",
    "workaround": "Ricreare il Lab e le VM associate.",
    "downtimeRisk": true,
    "refLink": "https://learn.microsoft.com/en-us/azure/azure-resource-manager/management/move-support-resources#microsoftdevtestlab"
  },
  {
    "id": "MOVE-WVD-001",
    "resourceType": "microsoft.desktopvirtualization/hostpools",
    "scenario": "cross-subscription",
    "severity": "Warning",
    "message": "Azure Virtual Desktop (AVD)",
    "impact": "Host pools, App groups e Workspaces possono essere spostati, ma bisogna assicurarsi di spostare anche le VM sottostanti e le registrazioni.",
    "workaround": "Spostare l'intero set di risorse AVD insieme.",
    "downtimeRisk": false,
    "refLink": "https://learn.microsoft.com/en-us/azure/azure-resource-manager/management/move-support-resources#microsoftdesktopvirtualization"
  },
  {
    "id": "BLK-LEGACY-001",
    "resourceType": "Microsoft.BizTalkServices/*",
    "scenario": "cross-subscription",
    "severity": "Blocker",
    "message": "BizTalk Services (Legacy)",
    "impact": "Le risorse legacy BizTalk (apiapps, gateways, identities) non supportano lo spostamento di sottoscrizione.",
    "workaround": "Ridistribuire la soluzione usando tecnologie moderne (Logic Apps/API Management) o ricreare nella nuova sub.",
    "downtimeRisk": true,
    "refLink": "https://learn.microsoft.com/en-us/azure/azure-resource-manager/management/move-support-resources"
  },
  {
    "id": "BLK-LEGACY-002",
    "resourceType": "Microsoft.BizTalkServices/*",
    "scenario": "cross-resourcegroup",
    "severity": "Blocker",
    "message": "BizTalk Services (Legacy)",
    "impact": "Le risorse legacy BizTalk non supportano il cambio di Resource Group.",
    "workaround": "Nessuna azione diretta possibile.",
    "downtimeRisk": false,
    "refLink": "https://learn.microsoft.com/en-us/azure/azure-resource-manager/management/move-support-resources"
  }
]